include:
    - questions.yml
---
segment id: Interview Completed
ga id: Interview Completed
event: final_screen
question: |
  ${ final_document_question }
subquestion: |
  ${ static_image('undraw_done_a34v.svg') }
  <br>
  <br>
  ${ final_document_subquestion }

right: |
  ${ final_document_partner }
attachment code: final_document
section: Download
progress: 100
---
### ATTACHMENT SETTINGS ###
attachment:
  name: Application for extension of a short-term stay / Schengen visa
  filename: Final Document
  variable name: final_document
  pdf template file: antrag_auf_verlaengerung_thueringen.pdf
  allow emailing: True
  valid formats:
    - pdf
  fields:
    - TEXTFIELD.p0.x78.y107: |
        ${ applicant.name.first }
    - TEXTFIELD.p0.x78.y115: |
        ${ applicant.name.last }
    - TEXTFIELD.p0.x78.y123: |
        ${ format_date(applicant.birthdate, format='dd.MM.yyyy') }
    - TEXTFIELD.p0.x124.y123: |
        ${ applicant.place_of_birth }
    - TEXTFIELD.p0.x78.y131: |
        ${ applicant.country_of_birth }
    - CHECKBOX.p0.x78.y138: |
        ${ yesno(applicant.gender == 'male') }
    - CHECKBOX.p0.x98.y138: |
        ${ yesno(applicant.gender == 'female') }
    - TEXTFIELD.p0.x124.y139: |
        ${ applicant.eye_color }
    - TEXTFIELD.p0.x178.y139: |
        ${ applicant.height }
    - TEXTFIELD.p0.x78.y147: |
        ${ applicant.nationality }
    - TEXTFIELD.p0.x124.y147: |
        ${ applicant.previous_nationality }
    - TEXTFIELD.p0.x78.y155: |
        ${ applicant.ethnicity }
    - CHECKBOX.p0.x78.y162: |
        ${ yesno(applicant.marital_status == 'single') }
    - CHECKBOX.p0.x78.y168: |
        ${ yesno(applicant.marital_status == 'married') }
    - CHECKBOX.p0.x100.y168: |
        ${ yesno(applicant.marital_status == 'living_seperately') }
    - CHECKBOX.p0.x128.y162: |
        ${ yesno(applicant.marital_status == 'living_in_registered_partnership') }
    - CHECKBOX.p0.x128.y168: |
        ${ yesno(applicant.marital_status == 'divorced') }
    - CHECKBOX.p0.x152.y168: |
        ${ yesno(applicant.marital_status == 'widowed') }
    - TEXTFIELD.p0.x78.y177: |
        ${ applicant.phone }
    - TEXTFIELD.p0.x78.y185: |
        ${ applicant.email }
    - CHECKBOX.p0.x28.y192: |
        ${ yesno(applicant.own_passport_id) }
    - TEXTFIELD.p0.x78.y193: |
        ${ applicant.id_type }
    - TEXTFIELD.p0.x78.y201: |
        ${ applicant.id_number }
    - TEXTFIELD.p0.x154.y209: |
        ${ format_date(applicant.id_issued_on, format='dd.MM.yyyy') }
    - TEXTFIELD.p0.x154.y201: |
        ${ format_date(applicant.id_valid_until, format='dd.MM.yyyy') }
    - TEXTFIELD.p0.x78.y209: |
        ${ applicant.issuing_state }
    - TEXTFIELD.p0.x78.y217: |
        ${ applicant.right_return_state }
    - TEXTFIELD.p0.x154.y217: |
        ${ format_date(applicant.id_valid_until, format='dd.MM.yyyy') }
    - TEXTFIELD.p0.x78.y233: |
        % if life_partner_yes_no:
        ${ life_partner.name.last }
        % endif
    - TEXTFIELD.p0.x78.y241: |
        % if life_partner_yes_no:
        ${ life_partner.name.first }
        % endif
    - TEXTFIELD.p0.x78.y249: |
        % if life_partner_yes_no:
        ${ format_date(life_partner.birthdate, format='dd.MM.yyyy') }
        % endif
    - CHECKBOX.p0.x78.y256: |
        % if life_partner_yes_no:
        ${ yesno(life_partner.gender == 'male') }
        % endif
    - CHECKBOX.p0.x98.y256: |
        % if life_partner_yes_no:
        ${ yesno(life_partner.gender == 'female') }
        % endif
    - TEXTFIELD.p0.x78.y265: |
        % if life_partner_yes_no:
        ${ life_partner.residence_city + ', ' + life_partner.residence_state }
        % endif

    - TEXTAREA.p1.x66.y40: |
        % if len(children) > 0:
        ${ children[0].name.first }
        % endif
    - TEXTAREA.p1.x66.y32: |
        % if len(children) > 0:
        ${ children[0].name.last }
        % endif
    - CHECKBOX.p1.x66.y50: |
        % if len(children) > 0:
        ${ yesno(children[0].gender == 'male') }
        % endif
    - CHECKBOX.p1.x82.y50: |
        % if len(children) > 0:
        ${ yesno(children[0].gender == 'female') }
        % endif
    - TEXTFIELD.p1.x66.y59: |
        % if len(children) > 0:
        ${ format_date(children[0].birthdate, format='dd.MM.yyyy') }
        % endif
    - TEXTAREA.p1.x66.y64: |
        % if len(children) > 0:
        ${ children[0].place_of_birth }
        % endif
    - TEXTAREA.p1.x66.y72: |
        % if len(children) > 0:
        ${ children[0].nationality }
        % endif
    - TEXTAREA.p1.x66.y80: |
        % if len(children) > 0:
        ${ children[0].residence_city + ', ' + children[0].residence_state }
        % endif

    - TEXTAREA.p1.x100.y40: |
        % if len(children) > 1:
        ${ children[1].name.first }
        % endif
    - TEXTAREA.p1.x100.y32: |
        % if len(children) > 1:
        ${ children[1].name.last }
        % endif
    - CHECKBOX.p1.x100.y50: |
        % if len(children) > 1:
        ${ yesno(children[1].gender == 'male') }
        % endif
    - CHECKBOX.p1.x116.y50: |
        % if len(children) > 1:
        ${ yesno(children[1].gender == 'female') }
        % endif
    - TEXTFIELD.p1.x100.y59: |
        % if len(children) > 1:
        ${ format_date(children[1].birthdate, format='dd.MM.yyyy') }
        % endif
    - TEXTAREA.p1.x100.y64: |
        % if len(children) > 1:
        ${ children[1].place_of_birth }
        % endif
    - TEXTAREA.p1.x100.y72: |
        % if len(children) > 1:
        ${ children[1].nationality }
        % endif
    - TEXTAREA.p1.x100.y80: |
        % if len(children) > 1:
        ${ children[1].residence_city + ', ' + children[1].residence_state }
        % endif

    - TEXTAREA.p1.x134.y40: |
        % if len(children) > 2:
        ${ children[2].name.first }
        % endif
    - TEXTAREA.p1.x134.y32: |
        % if len(children) > 2:
        ${ children[2].name.last }
        % endif
    - CHECKBOX.p1.x134.y50: |
        % if len(children) > 2:
        ${ yesno(children[2].gender == 'male') }
        % endif
    - CHECKBOX.p1.x150.y50: |
        % if len(children) > 2:
        ${ yesno(children[2].gender == 'female') }
        % endif
    - TEXTFIELD.p1.x134.y59: |
        % if len(children) > 2:
        ${ format_date(children[2].birthdate, format='dd.MM.yyyy') }
        % endif
    - TEXTAREA.p1.x134.y64: |
        % if len(children) > 2:
        ${ children[2].place_of_birth }
        % endif
    - TEXTAREA.p1.x134.y72: |
        % if len(children) > 2:
        ${ children[2].nationality }
        % endif
    - TEXTAREA.p1.x134.y80: |
        % if len(children) > 2:
        ${ children[2].residence_city + ', ' + children[2].residence_state }
        % endif

    - TEXTAREA.p1.x168.y40: |
        % if len(children) > 3:
        ${ children[3].name.first }
        % endif
    - TEXTAREA.p1.x168.y32: |
        % if len(children) > 3:
        ${ children[3].name.last }
        % endif
    - CHECKBOX.p1.x168.y50: |
        % if len(children) > 3:
        ${ yesno(children[3].gender == 'male') }
        % endif
    - CHECKBOX.p1.x184.y50: |
        % if len(children) > 3:
        ${ yesno(children[3].gender == 'female') }
        % endif
    - TEXTFIELD.p1.x168.y59: |
        % if len(children) > 3:
        ${ format_date(children[3].birthdate, format='dd.MM.yyyy') }
        % endif
    - TEXTAREA.p1.x168.y64: |
        % if len(children) > 3:
        ${ children[3].place_of_birth }
        % endif
    - TEXTAREA.p1.x168.y72: |
        % if len(children) > 3:
        ${ children[3].nationality }
        % endif
    - TEXTAREA.p1.x168.y80: |
        % if len(children) > 3:
        ${ children[3].residence_city + ', ' + children[3].residence_state }
        % endif

    - TEXTFIELD.p1.x66.y101: |
        ${ format_date(entry_date, format='dd.MM.yyyy') }

    - CHECKBOX.p1.x28.y108: |
        ${ yesno(entry_visa_yes_no, invert=True) }
    - CHECKBOX.p1.x28.y114: |
        % if entry_visa_yes_no:
        ${ yesno(entry_visa_type == 'shengen_visa') }
        % endif
    - CHECKBOX.p1.x28.y120: |
        % if entry_visa_yes_no:
        ${ yesno(entry_visa_type == 'german_visa') }
        % endif
    - TEXTFIELD.p1.x36.y131: |
        % if entry_visa_yes_no:
        ${ visa_number }
        % endif
    - TEXTFIELD.p1.x122.y131: |
        % if entry_visa_yes_no:
        ${ entry_visa_category }
        % endif

    - TEXTFIELD.p1.x36.y139: |
        % if entry_visa_yes_no:
        ${ visa_issuer }
        % endif
    - TEXTFIELD.p1.x122.y139: |
        % if entry_visa_yes_no:
        ${ format_date(visa_issued_date, format='dd.MM.yyyy') }
        % endif
    - TEXTFIELD.p1.x160.y139: |
        % if entry_visa_yes_no:
        ${ format_date(visa_valid_from, format='dd.MM.yyyy') + ' - ' + format_date(visa_valid_until, format='dd.MM.yyyy') }
        % endif
