objects:
  - applicant: Individual
  - life_partner: Individual
  - children: DAList.using(object_type=Individual, ask_number=True)
---
segment:
  id: Language Chosen
question: |
  Language settings
subquestion: |
  Please choose your language
  (Будь ласка, виберіть свою мову).
field: user_language
choices:
  - English/англійська: en
  - Ukranian/Українка: en
default: en
---
# TODO: Think about splitting into everal part
segment:
  id: Question Asked
  arguments:
    count: True
    question: Person Details
question: |
  Pleae complete the details of the applicant.
fields:
  - First Name: applicant.name.first
    default: Max Otto
  - Last Name / Birthname: applicant.name.last
    default: Mustermann
  - Date of birth: applicant.birthdate
    datatype: date
    default: ${ format_date(today(), format='yyyy-MM-dd') }
  - Birth Place: applicant.place_of_birth
    default: Musterhausen
  - Birth State: applicant.country_of_birth
    code: |
      countries_list()
    default: Ukraine
  - Gender: applicant.gender
    choices:
      - Male: male
      - Female: female
    default: Male
  - Eye Color: applicant.eye_color
    default: Brown
  - Height: applicant.height
    datatype: integer
    default: 170
  - Nationality: applicant.nationality
    code: |
      countries_list()
    default: Ukraine
  - Previous nationality: applicant.previous_nationality
    code: |
      countries_list()
    default: Ukraine
  - Ethnicity: applicant.ethnicity
    code: |
      countries_list()
    default: Ukraine
  - Marital status: applicant.marital_status
    choices:
      - Single: single
      - Married: married
      - Living seperately: living_seperately
      - Living in registered partnership: living_in_registered_partnership
      - Divorced: divorced
      - Widowed: widowed
    default: single
  - Marital status since: applicant.marital_status_since
    datatype: integer
    default: 1970
  - Phone: applicant.phone
    default: +380 XXX XXX XXX
  - Email: applicant.email
    default: example@mail.com
  # TODO: Not understanding this part
  - Own passport / ID card: applicant.own_passport_id
    datatype: yesnoradio
    default: true
  # TODO: Add missing eingetragen bei Vater / Mutter
  - Type of ID: applicant.id_type
    default: Passsport
  - ID Number: applicant.id_number
    default: ABCDEFG12345
  - Issued on: applicant.id_issued_on
    datatype: date
    default: ${ format_date(today(), format='yyyy-MM-dd') }
  - Valid until: applicant.id_valid_until
    datatype: date
    default: ${ format_date(today(), format='yyyy-MM-dd') }
  - Issuing State: applicant.issuing_state
    code: |
      countries_list()
    default: Ukraine
  - Right of return to state: applicant.right_return_state
    code: |
      countries_list()
    default: Ukraine
  - Right of return to state valid until: applicant.right_return_state_until
    datatype: date
    default: ${ format_date(today(), format='yyyy-MM-dd') }
---
# TODO: Think about splitting into everal part
segment:
  id: Question Asked
  arguments:
    count: True
    question: Life Partner Details
question: |
  Pleae complete the details about your Spouse / registered life partner according to LPartG.
fields:
  - Spouse / registered partner according to LPartG: life_partner_yes_no
    datatype: yesnoradio
    default: false
  - First Name: life_partner.name.first
    default: Max Otto
    show if: life_partner_yes_no
  - Last Name / Birthname: life_partner.name.last
    default: Mustermann
    show if: life_partner_yes_no
  - Date of birth: life_partner.birthdate
    datatype: date
    default: ${ format_date(today(), format='yyyy-MM-dd') }
    show if: life_partner_yes_no
  - Gender: life_partner.gender
    choices:
      - Male: male
      - Female: female
    default: female
    show if: life_partner_yes_no
  - Reidence (City): life_partner.residence_city
    default: Musterhausen
    show if: life_partner_yes_no
  - Reidence (State): life_partner.residence_state
    code: |
      countries_list()
    default: Ukraine
    show if: life_partner_yes_no
---
segment:
  id: Question Asked
  arguments:
    count: True
    question: Number Children
question: |
  How many children came with you to Germany?
fields:
  - Number: children.target_number
    datatype: integer
    max: 4
    default: 0
---
segment:
  id: Question Asked
  arguments:
    count: True
    question: Children Details
question: |
  Please complete the info about your ${ ordinal(i) } child
fields:
  - First Name: children[i].name.first
    default: Max Otto
  - Last Name: children[i].name.last
    default: Mustermann
  - Date of birth: children[i].birthdate
    datatype: date
    default: ${ format_date(today(), format='yyyy-MM-dd') }
  - Place of birth: children[i].place_of_birth
    default: Kyiv
  # TODO: Should be multiple nationalities
  - Nationality: children[i].nationality
    code: |
      countries_list()
    default: Ukraine
  - Gender: children[i].gender
    choices:
      - Male: male
      - Female: female
    default: male
  - Reidence (City): children[i].residence_city
    default: Musterhausen
  - Reidence (State): children[i].residence_state
    code: |
      countries_list()
    default: Ukraine
---
segment:
  id: Question Asked
  arguments:
    count: True
    question: Arrival
question: |
  Please complete the following questions about your arrival
fields:
  - Entry last on: entry_date
    datatype: date
    default: ${ format_date(today(), format='yyyy-MM-dd') }
  - Entered with a visa: entry_visa_yes_no
    datatype: yesnoradio
  - Entry: entry_visa_type
    choices:
      - with Shengen visa: shengen_visa
      - with national German vis: german_visa
    default: shengen_visa
    show if: entry_visa_yes_no
  - Visa number: visa_number
    default: XXX-XXX-XXX
    show if: entry_visa_yes_no
  - Visa category: entry_visa_category
    choices:
      - Visa for flight transit: 'Kategorie A'
      - Visa for transit: 'Kategorie B'
      - Stay up to 90 days: 'Kategorie C'
      - National Vida: 'Kategorie D'
    default: 'Kategorie A'
    show if: entry_visa_yes_no
    # TODO: Should this be a country or free text?
  - Visa issued by: visa_issuer
    default: TBD
    show if: entry_visa_yes_no
  - Visa issued date: visa_issued_date
    datatype: date
    show if: entry_visa_yes_no
    default: ${ format_date(today(), format='yyyy-MM-dd') }
  - Visa valid from: visa_valid_from
    datatype: date
    show if: entry_visa_yes_no
    default: ${ format_date(today(), format='yyyy-MM-dd') }
  - Visa valid until: visa_valid_until
    datatype: date
    show if: entry_visa_yes_no
    default: ${ format_date(today(), format='yyyy-MM-dd') }
